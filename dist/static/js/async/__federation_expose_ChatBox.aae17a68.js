"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["4320"],{95537:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(87386),l=r(85893);let n=(0,a.Z)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},57898:function(e,t,r){r.d(t,{Z:()=>$});var a=r("57322"),l=r("67026"),n=r("94780"),i=r("49011"),o=r("90948"),s=r("88157"),d=r("75984"),c=r("80560"),u=r("98216"),p=r("40902"),h=r("46500"),m=r("1588"),v=r("34867");function g(e){return(0,v.ZP)("MuiAlert",e)}let x=(0,m.Z)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var f=r("19058"),C=r("87386"),j=r("85893");let S=(0,C.Z)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=(0,C.Z)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Z=(0,C.Z)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),w=(0,C.Z)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var b=r("34484");let A=e=>{let{variant:t,color:r,severity:a,classes:l}=e,i={root:["root",`color${(0,u.Z)(r||a)}`,`${t}${(0,u.Z)(r||a)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,n.Z)(i,g,l)},M=(0,o.ZP)(h.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,u.Z)(r.color||r.severity)}`]]}})((0,s.Z)(({theme:e})=>{let t="light"===e.palette.mode?i._j:i.$n,r="light"===e.palette.mode?i.$n:i._j;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter((0,p.Z)(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${a}Color`]:t(e.palette[a].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${a}StandardBg`]:r(e.palette[a].light,.9),[`& .${x.icon}`]:e.vars?{color:e.vars.palette.Alert[`${a}IconColor`]}:{color:e.palette[a].main}}})),...Object.entries(e.palette).filter((0,p.Z)(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${x.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter((0,p.Z)(["dark"])).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)}}}))]}})),z=(0,o.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),I=(0,o.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),O=(0,o.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),k={success:(0,j.jsx)(S,{fontSize:"inherit"}),warning:(0,j.jsx)(y,{fontSize:"inherit"}),error:(0,j.jsx)(Z,{fontSize:"inherit"}),info:(0,j.jsx)(w,{fontSize:"inherit"})},$=a.forwardRef(function(e,t){let r=(0,d.i)({props:e,name:"MuiAlert"}),{action:a,children:n,className:i,closeText:o="Close",color:s,components:u={},componentsProps:p={},icon:h,iconMapping:m=k,onClose:v,role:g="alert",severity:x="success",slotProps:C={},slots:S={},variant:y="standard",...Z}=r,w={...r,color:s,severity:x,variant:y,colorSeverity:s||x},$=A(w),D={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...S},slotProps:{...p,...C}},[L,R]=(0,c.Z)("closeButton",{elementType:f.Z,externalForwardedProps:D,ownerState:w}),[T,V]=(0,c.Z)("closeIcon",{elementType:b.Z,externalForwardedProps:D,ownerState:w});return(0,j.jsxs)(M,{role:g,elevation:0,ownerState:w,className:(0,l.Z)($.root,i),ref:t,...Z,children:[!1!==h?(0,j.jsx)(z,{ownerState:w,className:$.icon,children:h||m[x]||k[x]}):null,(0,j.jsx)(I,{ownerState:w,className:$.message,children:n}),null!=a?(0,j.jsx)(O,{ownerState:w,className:$.action,children:a}):null,null==a&&v?(0,j.jsx)(O,{ownerState:w,className:$.action,children:(0,j.jsx)(L,{size:"small","aria-label":o,title:o,color:"inherit",onClick:v,...R,children:(0,j.jsx)(T,{fontSize:"small",...V})})}):null]})})},98747:function(e,t,r){r.r(t),r.d(t,{default:()=>b});var a=r("85893"),l=r("36959"),n=r("46500"),i=r("23972"),o=r("58077"),s=r("19058"),d=r("57898"),c=r("85285"),u=r("7968"),p=r("37906"),h=r("28739"),m=r("31692"),v=r("95537"),g=r("87386");let x=(0,g.Z)((0,a.jsx)("path",{d:"m9.4 10.5 4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2M8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15zm11.27 0-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35z"}),"Camera"),f=(0,g.Z)((0,a.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile"),C=(0,g.Z)((0,a.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),j=(0,g.Z)([(0,a.jsx)("circle",{cx:"9",cy:"9",r:"4"},"0"),(0,a.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m7.76-9.64-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27M20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14"},"1")],"RecordVoiceOver"),S=(0,g.Z)((0,a.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");var y=r("72679"),Z=r("57322"),w=r("67046");let b=e=>{var t,r,g,b,A,M,z;let I=(0,w.useChatStore)(),O=(0,Z.useRef)();return(0,a.jsxs)(l.Z,{component:n.Z,sx:{position:"sticky",bottom:0,left:0,right:0,backdropFilter:"blur(8px)"},children:[(null==I?void 0:I.imageSrc)&&(0,a.jsx)(i.Z,{sx:{px:2},variant:"subtitle1",children:"Attachments"}),(0,a.jsx)(l.Z,{sx:{display:"flex",gap:2,pt:1},children:(null==I?void 0:I.imageSrc)&&"string"==typeof I.imageSrc?(0,a.jsx)(y.LazyLoadImage,{effect:"opacity",src:I.imageSrc,alt:"Captured image",width:"100px",style:{maxWidth:"100%",borderRadius:"12px",padding:"0 8px"}}):Array.isArray(I.imageSrc)?I.imageSrc.map(e=>(0,a.jsx)(o.Z,{color:"error",badgeContent:(0,a.jsx)(s.Z,{size:"small",children:(0,a.jsx)(v.Z,{fontSize:"small"})}),children:(0,a.jsx)(y.LazyLoadImage,{effect:"opacity",src:e,alt:"Captured image",width:"100px",style:{maxWidth:"100%",borderRadius:"12px",padding:"0 8px"}})},e)):(0,a.jsx)(a.Fragment,{})}),(0,a.jsx)(d.Z,{severity:"info",children:(0,a.jsx)(l.Z,{sx:{height:"auto"},children:(0,a.jsxs)(c.Z,{id:"multiline-input-label",htmlFor:"multiline-input",children:[["create","imagine"].includes(I.mode)&&`${Math.floor((null===(t=0..data)||void 0===t?void 0:t.credits)*5).toFixed(0)} images remaining: `," Currently using ",null==I?void 0:I.mode," mode. Type ",(0,a.jsx)("b",{children:(null==I?void 0:I.mode)==="chat"?"/create":"/chat"})," and press enter to switch to ",(null==I?void 0:I.mode)==="chat"?"create":"chat"," mode."]})})}),(0,a.jsx)(u.Z,{id:"multiline-input",ref:O.current,variant:"outlined",fullWidth:!0,autoFocus:!0,placeholder:`${null==I?void 0:I.mode} mode: Type your message...`,value:I.inputMessage,onChange:e=>I.handleInput(e.target.value),sx:{overflow:"auto",borderRadius:0},multiline:!0,maxRows:4,InputProps:{startAdornment:(0,a.jsxs)(p.Z,{position:"start",children:[(0,a.jsx)(h.Z,{title:(null===(r=I.activeChat)||void 0===r?void 0:r.session_id)?"Camera":"Select a session to use camera",children:(0,a.jsx)(s.Z,{sx:e=>({color:e.palette.primary.main}),"aria-label":"filter",size:"small",disabled:!(null===(g=I.activeChat)||void 0===g?void 0:g.session_id),children:(0,a.jsx)(x,{})})}),(0,a.jsx)(h.Z,{title:(null===(b=I.activeChat)||void 0===b?void 0:b.session_id)?"Upload":"Select a session to upload",children:(0,a.jsx)(o.Z,{color:"primary",invisible:!(null===(A=I.activeChat)||void 0===A?void 0:A.session_id),children:(0,a.jsx)(s.Z,{sx:e=>({color:e.palette.primary.main}),"aria-label":"filter",size:"small",disabled:!(null===(M=I.activeChat)||void 0===M?void 0:M.session_id),children:(0,a.jsx)(f,{})})})})]}),endAdornment:(0,a.jsxs)(p.Z,{position:"end",children:[(0,a.jsx)(s.Z,{sx:e=>({color:e.palette.primary.main}),"aria-label":"send",onClick:()=>{console.log("send",O.current),(null==e?void 0:e.handleSend)&&e.handleSend(I.inputMessage)},size:"small",children:(0,a.jsx)(C,{})}),(0,a.jsx)(s.Z,{sx:e=>({color:e.palette.primary.main}),"aria-label":"send",size:"small",children:(0,a.jsx)(j,{})})]}),sx:e=>({backgroundColor:e.palette.background.default,".MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.primary.main}})}}),(0,a.jsxs)(m.Z,{sx:e=>({display:"flex",flexDirection:"space-between",justifyContent:"space-between",backgroundColor:e.palette.background.default}),children:[(0,a.jsxs)(i.Z,{variant:"body1",sx:{flexGrow:1},children:["chat: ",(0,a.jsx)("b",{children:null==I?void 0:null===(z=I.activeChat)||void 0===z?void 0:z.session_name})]}),(0,a.jsxs)(i.Z,{variant:"body1",sx:{flexGrow:1},children:["model: ",(0,a.jsx)("b",{children:I.defaultModel})]}),(0,a.jsx)(s.Z,{onClick:()=>I.handleDrawer(!0),sx:{color:"text.primary"},children:(0,a.jsx)(S,{})})]})]})}},22913:function(e,t,r){r.d(t,{q:function(){return a}});let a=(0,r(97220).create)(e=>({view:{title:"Home",id:"2a822d5e-ac09-4df3-9981-588809928086"},setView:t=>e(()=>({view:t}))}))},9063:function(e,t,r){r.d(t,{a:function(){return l}});var a=r(97220);let l=(0,a.create)(e=>({messages:[],view:"chat",chatMode:"/chat",chatModes:["/create","/chat","/imagine","/internet"],mode:"chat",imageSrc:null,imageClassification:null,drawerOpen:!1,activeChat:null,activeChatId:null,visionMode:"default",defaultModel:"llama3:latest",selectedOptionsTab:0,drawerView:"read",chatStatus:null,inputMessage:"",mutationOptions:{method:"post",endpoint:"create_row",table:"chats"},toolsWindowDrawer:!1,isInternetQuery:!1,appContent:null,appConfig:null,cpxData:null,attachment:null,setAppConfig:t=>e(()=>({appConfig:t})),setAppContent:t=>e(()=>({appContent:t})),setCpxData:t=>e(()=>({cpxData:t})),setIsInternetQuery:t=>e(()=>({isInternetQuery:t})),setToolsWindowDrawer:t=>e(()=>({toolsWindowDrawer:t})),setMutationOptions:t=>e(()=>({mutationOptions:t})),handleInput:t=>e(()=>({inputMessage:t})),addMessage:t=>e(e=>({messages:[...e.messages,t]})),setMessages:t=>e(()=>({messages:t})),handleView:t=>e(()=>({view:t})),handleMode:t=>e(()=>({mode:t})),handleImageSrc:t=>e(e=>e.imageSrc?{imageSrc:Array.isArray(e.imageSrc)?[...e.imageSrc,t]:[e.imageSrc,t]}:{imageSrc:t}),handleImageClassification:t=>e(()=>({imageClassification:t})),handleDrawer:t=>e(()=>({drawerOpen:t})),setDrawerView:t=>e(()=>({drawerView:t})),handleActiveChat:t=>e(()=>({activeChat:t})),handleActiveChatId:t=>e(()=>({activeChatId:t})),handleAttachment:t=>e(()=>({attachment:t})),toggleVisionMode:t=>e(()=>({visionMode:t})),setDefaultModel:t=>e(()=>({defaultModel:t,drawerOpen:!1,selectedOptionsTab:0})),handleSelectedOptionsTab:t=>e(()=>({selectedOptionsTab:t})),updateChatStatus:t=>e(()=>({chatStatus:t})),clearChat:()=>e(()=>({messages:[]})),clearInput:()=>e(()=>({inputMessage:""})),setState:t=>e(e=>({...e,...t}))}));(0,a.create)(e=>({session:null,setSession:t=>e({session:t})}))},70260:function(e,t,r){r.d(t,{O:function(){return a}});let a=(0,r(97220).create)(e=>({userID:null,isDrawerOpen:!1,activeDrawer:"weight",drawerAnchor:"right",selectedSearchItem:null,activeSearchTab:"recent",fitnessTables:{},registrationView:!1,setRegistrationView:t=>e(()=>({registrationView:t})),appConfig:null,setAppConfig:t=>e(()=>({appConfig:t})),setFitnessTables:t=>e(()=>({fitnessTables:t})),toggleDrawer:t=>e(e=>({isDrawerOpen:(null==t?void 0:t.open)!==void 0?t.open:!e.isDrawerOpen,drawerAnchor:(null==t?void 0:t.anchor)||e.drawerAnchor})),setActiveDrawer:t=>e(()=>({activeDrawer:t})),setSelectedSearchItem:t=>e(()=>({selectedSearchItem:t})),setActiveSearchTab:t=>e(()=>({activeSearchTab:t}))}))},67046:function(e,t,r){r.r(t),r.d(t,{useAppStore:function(){return i.q},useChatStore:function(){return o.a},useFitnessStore:function(){return l.O},useSupabaseStore:function(){return a.F},useUtilityStore:function(){return n.useUtilityStore}});var a=r(4821),l=r(70260),n=r(80476),i=r(22913),o=r(9063)},4821:function(e,t,r){r.d(t,{F:function(){return a}});let a=(0,r(97220).create)(e=>({session:null,userType:null,setSession:t=>e({session:t}),setUserType:t=>e({userType:t})}))},80476:function(e,t,r){r.r(t),r.d(t,{default:function(){return l},useUtilityStore:function(){return a}});let a=(0,r(97220).create)(e=>({alert:{severity:"success",message:"",open:!1},confirm:{open:!1,title:"",message:""},drawer:{open:!1,content:null,anchor:"left"},setDrawer:t=>e(e=>({drawer:{...e.drawer,...t}})),setConfirm:t=>e(e=>({confirm:{...e.confirm,...t}})),clearConfirm:()=>e(()=>({confirm:{open:!1,title:"",message:""}})),colorMode:"dark",setColorMode:t=>e(()=>({colorMode:t})),setAlert:t=>e(()=>({alert:t})),createAlert:(t,r)=>e(()=>({alert:{severity:t,message:r,open:!0}}))})),l=a}}]);